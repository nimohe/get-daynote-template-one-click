<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>日记模板</title>
    <link rel="icon" href="icon/favicon.svg" type="image/svg+xml">
    <link rel="alternate icon" href="icon/favicon.png" sizes="32x32">
    <link rel="apple-touch-icon" href="icon/apple-touch-icon.png" sizes="180x180">
    <link rel="stylesheet" href="css/main.css" />
    <h2>日记模板</h2>
    <textarea name="daynoteTemple" id="daynoteTemple"></textarea>
    <button type="button" class="styled-button click-btn" onclick="copyText()">
      复制模板
    </button>
  </head>
  <body>
    <script>
      window.onload = function () {
        let daynoteTemple = `{2025-02-2x 周x}

#日记

> 天气：


---

## 小节
- 

## 希冀
- 

---

## 正文
            `;
        console.log(daynoteTemple);
        let daynoteTempleTextarea = document.getElementById("daynoteTemple");
        daynoteTempleTextarea.value = daynoteTemple;

        function getFormattedDate() {
          const date = new Date();
          const year = date.getFullYear();
          const month = String(date.getMonth() + 1).padStart(2, "0");
          const day = String(date.getDate()).padStart(2, "0");
          const weekday = ["日", "一", "二", "三", "四", "五", "六"][
            date.getDay()
          ];

          return `${year}-${month}-${day} 周${weekday}`;
        }

        let todayData = getFormattedDate();
        console.log(getFormattedDate());
        let todayTemple = daynoteTemple.replace("{2025-02-2x 周x}", todayData);
        console.log(todayTemple);

        daynoteTempleTextarea.value = todayTemple;
      };

      function copyText() {
        navigator.clipboard
          .writeText(document.getElementById("daynoteTemple").value)
          .then(() => alert("复制成功"))
          .catch((err) => console.error("Could not copy text: ", err));
      }
    </script>
  </body>
</html>
